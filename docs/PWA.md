# PWA Setup and Icons

This project is configured as a Progressive Web App using Next.js App Router.

## Key Files
- `src/app/manifest.ts`: Web App Manifest route (served at `/manifest.webmanifest`).
- `src/app/layout.tsx`: Metadata for favicons and Apple touch icon.
- `scripts/generate-icons.mjs`: Script to generate required icons from a source image.
- `public/icons/`: Generated PWA icons used by the manifest.
- `public/`: Favicons and Apple touch icon generated here.

## Icons Referenced by Manifest
Defined in `src/app/manifest.ts`:
- Any purpose: `/icons/icon-192.png`, `/icons/icon-256.png`, `/icons/icon-384.png`, `/icons/icon-512.png`.
- Maskable: `/icons/icon-192-maskable.png`, `/icons/icon-512-maskable.png`.

These are generated by the script below.

## Favicons and Apple Icon
Configured in `src/app/layout.tsx`:
- Favicons: `/favicon-16x16.png`, `/favicon-32x32.png`, `/favicon-48x48.png`
- Apple touch icon: `/apple-touch-icon.png`

## Generate/Update Icons
Use the provided script to generate all icons from a single source image (recommended square, 1024Ã—1024 or larger):

```bash
node scripts/generate-icons.mjs public/codecompass.png
```

This produces:
- `public/icons/icon-192.png`
- `public/icons/icon-256.png`
- `public/icons/icon-384.png`
- `public/icons/icon-512.png`
- `public/icons/icon-192-maskable.png`
- `public/icons/icon-512-maskable.png`
- `public/favicon-16x16.png`
- `public/favicon-32x32.png`
- `public/favicon-48x48.png`
- `public/apple-touch-icon.png`

Optional: we can add `favicon.ico` generation (16/32 ICO) if desired.

## Theme Color Warning (Next.js v15)
If you see build warnings about `themeColor` in metadata exports for routes, move theme color to a `generateViewport()` export for those routes. Reference:
https://nextjs.org/docs/app/api-reference/functions/generate-viewport

## Verify PWA
- Build the app: `npm run build && npm start`
- Open in Chrome and run Lighthouse (PWA category).
- Install prompt appears on supported browsers once criteria are met.

## Notes
- The project includes `next-pwa` in dependencies but relies on the App Router + manifest for core PWA behavior. If a custom service worker or caching strategy is needed, we can integrate `next-pwa` or add a custom worker.
